# وسّط | WASSIT

**النسخة النهائية لوثيقة متطلبات تطبيق "وسّط" بنسخته الأولية (MVP)**  
تاريخ الإصدار: 20/05/2025

---

## 1. نظرة عامة على التطبيق

- **اسم التطبيق:** وسّط (Wassit)  
- **الفكرة العامة:**  
  منصة وساطة رقمية تربط بين:  
  1. مشاريع مختلفة داخل العراق (مطاعم، محلات، عيادات، صالونات، إلخ) الباحثة عن خدمات تسويقية أو إبداعية.  
  2. مقدّمي خدمات التسويق والإعلام (تصوير، تصميم، كتابة محتوى، إدارة سوشيال ميديا، إلخ).  

- **السوق المستهدف:** العراق بشكل رئيسي، مع إمكانية التوسّع لاحقًا.  
- **اللغة:** عربية (اللهجة العراقية في النصوص والمراسلات).  
- **المنصات المستهدفة:** أندرويد + iOS.  
- **نظام Escrow:** لضمان أمان التعامل وحجز المبلغ المتفق عليه إلى حين تسليم الخدمة.  

### **الخصوصية في عرض الأسعار والتواصل**  
يركز التطبيق على دور الوسيط (صاحب النظام) بحيث:  
- **لا يرى مقدم الخدمة** المبلغ الذي دفعه العميل فعليًا، بل يكتفي بمعرفة ما سيناله هو مقابل العمل.  
- **لا يرى العميل** رقم الهاتف أو أي تواصل مباشر مع مقدم الخدمة، فقط يعرف بياناته العامة (اسمه، تقييمه، نماذج أعماله).  
- صاحب النظام (الوسيط) يمكنه إضافة **هامش ربح** على عرض مقدم الخدمة دون علم الطرفين بسعر الطرف الآخر.

---

## 2. الأهداف الرئيسية للتطبيق

1. **تسهيل** عملية الطلب والاستلام لخدمات التسويق والإعلام.  
2. **ضمان الثقة** بين الطرفين من خلال نظام الحجز (Escrow).  
3. **خلق بيئة احترافية** يتم فيها تقييم الطرفين ويُبنَى سجل تاريخي للسمعة.  
4. **تقليل الاحتيال** وخفض معدل النزاعات من خلال مراقبة مستمرة ولوحة تحكّم إدارية.  
5. **تحقيق الربح** لصاحب التطبيق عبر التحكم بالأسعار وإضافة الهامش المناسب.

---

## 3. خصائص المستخدمين الرئيسيين

### 3.1 العميل (طالب الخدمة)

- **دور:** صاحب مشروع أو عميل يبحث عن خدمة تسويقية/إبداعية.  
- **المهام الأساسية:**
  1. **إنشاء حساب/تسجيل دخول** (بالبريد/رقم الهاتف مع OTP أو عبر Google فقط).  
  2. **تحديد المدينة** والتخصص المطلوب (من قائمة خدمات محددة مثل التصوير، التصميم... إلخ - كـ *enum*).  
  3. **إنشاء طلب خدمة** بوصف مفصّل وملفات مرفقة إن لزم.  
  4. **استلام العروض** من صاحب التطبيق (والذي بدوره يجمع عروض مقدمي الخدمة ويضع الهامش).  
  5. **اختيار أحد العروض** (أو رفضها) والدفع في نظام Escrow (وهمي في البداية).  
  6. **متابعة العمل** والتواصل النصي أو الصوتي داخل التطبيق فقط.  
  7. **تأكيد الاستلام** أو فتح نزاع عند الخلاف.  
  8. **تقييم مقدم الخدمة** بعد انتهاء الطلب.

> ملاحظة: لن يرى العميل التواصل المباشر أو الرقم الخاص بمقدم الخدمة.

### 3.2 مقدم الخدمة

- **دور:** مصوّر، مصمّم، كاتب محتوى، مدير سوشيال ميديا... إلخ.  
- **المهام الأساسية:**  
  1. **إنشاء حساب/تسجيل دخول** + توثيق بيانات عبر رفع وثائق أو نماذج أعمال.  
  2. **استعراض الطلبات** التي تنشرها إدارة التطبيق (دون تفاصيل مبالغ العميل).  
  3. **إرسال عرض** (سعر مقدم الخدمة + مدة التنفيذ + تفصيل العمل).  
  4. **انتظار رد إدارة التطبيق**:  
     - يطّلع الوسيط على العرض ويقرر السعر النهائي الذي سيُعرض للعميل.  
  5. **تنفيذ العمل** بعد الموافقة وإشعار مقدم الخدمة بأن المشروع قد بدأ.  
  6. **رفع النتائج النهائية** والتحديث بحالة "تم التسليم".  
  7. **استلام مستحقاته** من Escrow بعد تأكيد العميل.  
  8. **تقييم العميل** بعد انتهاء الطلب.

> ملاحظة: لن يرى مقدم الخدمة ما دفعه العميل تمامًا ولا رقم العميل.

### 3.3 لوحة الإدارة (المسؤول/المشرف)

- **دور:** إدارة التطبيق ومراقبة سير العمليات.  
- **المهام الأساسية:**  
  1. **إدارة المستخدمين** (تفعيل، تعطيل، حذف).  
  2. **إدارة الطلبات**: مراقبة كل الطلبات، وتعديل الأسعار إن لزم.  
  3. **إضافة الهامش**: عند ورود عرض من مقدم الخدمة، يقوم المشرف بتحديد هامش الربح وعرض السعر النهائي للعميل.  
  4. **إدارة النزاعات**: فتح نزاع، حكم، حل نهائي.  
  5. **نظام تنبيهات فوري** (Real-time) بالحالات الطارئة أو البلاغات.  
  6. **إحصائيات وتحليلات** أساسية (عدد المستخدمين، الطلبات، نسبة الإكمال...).  
  7. **مراقبة النظام المالي** (مبالغ Escrow، طلبات الانسحاب...).

---

## 4. التدفق التفصيلي لاستخدام التطبيق (User Flow)

### 4.1 تسجيل المستخدم (عميل/مقدم خدمة)

1. **صفحة الهبوط (Landing Page)**  
   - تعرض معلومات موجزة عن التطبيق وفوائده.  
   - تضم أزرار "تسجيل الدخول" و"إنشاء حساب جديد".

2. **التسجيل / تسجيل الدخول**  
   1. إدخال رقم الهاتف أو البريد + كلمة المرور.  
   2. إمكانية التسجيل عبر حساب Google فقط (خيار إضافي).  
   3. التحقق (OTP) عبر رسالة نصية أو بريد للتوثيق.  
   4. اختيار نوع الحساب: (عميل - مقدم خدمة).  
   5. إذا "مقدم خدمة" → طلب رفع وثائق أو عينات أعمال (Portfolio) للتوثيق، يتحول حسابه إلى "قيد المراجعة" حتى يعتمدها المشرف.  

3. **الملف الشخصي**  
   - تعبئة المعلومات (الاسم الكامل، المدينة، نبذة مختصرة).  
   - رفع صورة شخصية أو شعار (لوغو).  

---

### 4.2 العميل (رحلة طلب الخدمة)

1. **إنشاء الطلب**  
   1. اختيار التخصص (تصوير، تصميم، كتابة محتوى...) من قائمة (enum).  
   2. اختيار المدينة (بغداد، بابل، بصرة... إلخ).  
   3. وصف الخدمة المطلوبة تفصيليًا + إمكانية إرفاق ملفات.  
   4. تحديد ميزانية تقديرية أو موعد تسليم (**اختياري** أو **إجباري** بحسب السياسة).  
   5. نشر الطلب ليصبح "نشطًا" لدى لوحة إدارة التطبيق.

2. **إدارة التطبيق تتلقى الطلب**  
   1. يظهر الطلب للمشرف في لوحة الإدارة.  
   2. المشرف يتيح إظهاره لمقدمي الخدمة المناسبين (حسب التخصص والمدينة).

3. **استلام العروض (خلف الكواليس)**  
   1. مقدمو الخدمة يرسلون عروضهم للمشرف فقط (السعر + مدة التنفيذ + تفاصيل).  
   2. المشرف يراجع كل العروض ويختار أحدها أو أكثر لعرضها للعميل.  
   3. **إضافة الهامش**: المشرف يحدد السعر النهائي الذي يراه مناسبًا (عرض مقدم الخدمة + هامش ربح).  
   4. العميل يتلقى عرضًا (أو عدة عروض) دون كشف تفاصيل مقدم الخدمة المالية أو رقم هاتفه.

4. **قبول العرض والدفع (Escrow)**  
   1. العميل يختار أحد العروض الظاهرة → ينتقل لشاشة دفع المبلغ (Escrow وهمي للـMVP).  
   2. حجز المبلغ مؤقتًا → يتم إشعار مقدم الخدمة (ضمن التطبيق) ببدء العمل.

5. **متابعة حالة التنفيذ**  
   1. واجهة العميل تتضمن مؤشر يوضح سير العمل أو يكتفي بالحالة (جاري التنفيذ / بانتظار تسليم).  
   2. مراسلة داخلية مع مقدم الخدمة بدون تبادل أرقام هاتف (نص/صوت/مرفقات).  
   3. تحديث الطلب إذا تطلب الأمر (وفق سياسة التعديلات).

6. **استلام الخدمة وتأكيدها**  
   1. مقدم الخدمة يرفع الملفات النهائية داخل التطبيق → يتم إشعار العميل.  
   2. العميل يراجع النتائج:  
      - إذا موافق: يؤكد الاستلام → **المبلغ يُفرج عنه** لمقدم الخدمة.  
      - إذا غير موافق: يطلب تعديل أو يفتح نزاع.

7. **التقييم**  
   1. العميل يقيم مقدم الخدمة (نجوم + تعليق).  
   2. يظهر التقييم في صفحة مقدم الخدمة.  
   3. مقدم الخدمة أيضًا يقيم العميل (انضباطه بالتعليمات، التزامه بالدفع).

---

### 4.3 مقدم الخدمة (رحلة تقديم العروض)

1. **استعراض الطلبات**  
   - تظهر لديه الطلبات التي يختار المشرف إظهارها، دون معلومات حول المبالغ التي ينوي العميل دفعها.  
   - إمكانية فرز الطلبات حسب المدينة أو التخصص أو التاريخ.

2. **إرسال عرض**  
   - يحدد سعره الخاص ومدة التنفيذ + رسالة توضيحية.  
   - يتم إرسال العرض للمشرف في لوحة الإدارة (لا يذهب مباشرة للعميل).

3. **اعتماد العرض وإبلاغ مقدم الخدمة**  
   - المشرف قد يضيف هامش ربح ويعرض العرض للعميل.  
   - عند قبول العميل، يصل إشعار "تمت الموافقة على العرض" لمقدم الخدمة.  
   - يتم حجز مبلغ الخدمة (Escrow) في النظام.

4. **تنفيذ وتسليم**  
   - يتواصل مع العميل عبر الرسائل داخل التطبيق (دون إفشاء رقم الهاتف).  
   - يرفع الملفات النهائية أو يضع رابط التسليم.  
   - يغير حالة الطلب إلى "تم التسليم".

5. **استلام الدفعة**  
   - بعد تأكيد العميل، النظام يُفرج عن المبلغ (أو يُسجله كمستحق).  
   - يعرض الرصيد في محفظة مقدم الخدمة (Wallet).  
   - في الـMVP قد يكون صرف المبلغ يدويًا أو يتم لاحقًا عبر بوابات دفع محلية.

6. **تقييم العميل**  
   - يمكنه إضافة تقييم للعميل بعد انتهاء الطلب.

---

### 4.4 لوحة الإدارة (Admin Panel)

1. **إدارة المستخدمين**  
   - قائمة بجميع العملاء ومقدمي الخدمة.  
   - حالة المستخدم (مفعل / معلق / محظور).  
   - فلترة بالاسم أو البريد أو رقم الهاتف.  
   - تعديل أو حذف الحساب عند الضرورة.

2. **إدارة الطلبات**  
   - عرض الطلبات بجميع حالاتها (نشط، قيد التنفيذ، مرفوض، مكتمل... إلخ).  
   - الاطلاع على تفاصيل الطلب والمرفقات.  
   - السماح بعرض الطلب لمقدمي الخدمة المناسبين أو إخفاؤه.

3. **العروض والموافقة**  
   - إدارة كل عرض يصل من مقدم الخدمة.  
   - تعديل السعر بإضافة الهامش قبل إرساله للعميل.  
   - متابعة حالة الموافقة من قِبل العميل.

4. **إدارة النزاعات**  
   - إمكانية عرض تفاصيل الطلب ومرفقاته ومحادثات الطرفين.  
   - اتخاذ قرار وحل النزاع (تحويل المبلغ / إعادته / تقسيمه).  
   - توثيق سبب القرار للرجوع إليه مستقبلًا.

5. **التقارير والإشعارات**  
   - تقارير حول عدد الطلبات اليومية/الشهرية، نمو المستخدمين، نسبة الإكمال.  
   - تنبيهات فورية بأي بلاغ أو نزاع.  
   - إحصاءات مالية (مبالغ الـEscrow المحجوزة، المسلّمة، الأرباح من الهامش...).

6. **التحليلات (Analytics)**  
   - رسوم بيانية بسيطة توضح نشاط المنصة وعدد الطلبات المكتملة ومتوسط وقت التسليم.  
   - إمكانية تطوير تحليلات أعمق لاحقًا.

---

## 5. المتطلبات الوظيفية (Functional Requirements)

1. **التسجيل وتسجيل الدخول**  
   - التحقق (OTP) للبريد أو الهاتف.  
   - تسجيل بحساب Google (في المرحلة الأولى فقط).  
   - تشفير كلمات المرور في قاعدة البيانات.

2. **نظام التوثيق لمقدم الخدمة**  
   - رفع وثائق الهوية أو نماذج أعمال.  
   - حالة الحساب: "قيد المراجعة" حتى موافقة المشرف.

3. **إدارة الطلبات والعروض**  
   - يستطيع العميل إنشاء الطلب، بينما مقدم الخدمة يقدم عرضه للمشرف.  
   - المشرف يقوم بتعديل السعر قبل عرضه للعميل (لإضافة هامش ربح).

4. **نظام الدفع الوهمي (Escrow)**  
   - حجز مبلغ افتراضي (لا تحويل حقيقي في البداية).  
   - قاعدة بيانات تسجّل الحالة المالية لكل طلب.

5. **الدردشة والتواصل الداخلي**  
   - رسائل نصية أو صوتية أو رفع مرفقات بين العميل ومقدم الخدمة.  
   - يتم توثيقها للرجوع إليها في حال النزاع.

6. **تأكيد الاستلام والتقييم**  
   - العميل يؤكد الاستلام أو يفتح نزاع.  
   - تقييم متبادل للطرفين.

7. **لوحة التحكم (Admin Panel)**  
   - إدارة المستخدمين، الطلبات، العروض، النزاعات، وتقارير أساسية.  
   - تحكم بعملية التسعير والهامش.  
   - تنبيهات فورية بأي نشاط أو بلاغ.

8. **الأمان والحماية**  
   - بروتوكول HTTPS.  
   - مصادقة المستخدمين بالـJWT أو جلسات آمنة.  
   - صلاحيات وصول مختلفة للمدير والمشرفين.

---

## 6. المتطلبات غير الوظيفية (Non-Functional Requirements)

1. **قابلية التوسع (Scalability)**  
   - استخدام بنية تحتية (مثال Firebase) تسمح بزيادة عدد المستخدمين بدون مشاكل.

2. **الأداء (Performance)**  
   - واجهات سريعة الاستجابة، معالجة فعّالة للبيانات.

3. **قابلية الاستخدام (Usability)**  
   - تصميم بسيط وواضح، أيقونات وشاشات مألوفة وسهلة التنقل.

4. **قابلية الصيانة (Maintainability)**  
   - كود نظيف ومنفصل الطبقات (Modular).  
   - توثيق واضح لكل المكونات البرمجية.

5. **الأمن (Security)**  
   - تشفير الاتصالات (SSL/HTTPS).  
   - إجراءات صارمة لحماية البيانات في الخادم.

---

## 7. عناصر مهمة لضمان الواقعية في التنفيذ

1. **إطلاق MVP بميزات أساسية فقط**  
   - (التسجيل، إنشاء الطلب، تقديم العرض، Escrow وهمي، تسليم الخدمة، تقييم، لوحة إدارة مبسطة).

2. **تبسيط عملية الدفع في البداية**  
   - الاعتماد على حجز وهمي للمبلغ حتى تفعيل بوابة دفع في المراحل القادمة.

3. **أدوات التطوير المقترحة**  
   - **الواجهة الأمامية للموبايل**: Flutter أو React Native.  
   - **الخادم (Backend)**: Firebase Functions أو Node.js + Express.  
   - **قاعدة البيانات**: Firebase Realtime Database أو Firestore أو MongoDB.  
   - **الإشعارات الفورية**: Firebase Cloud Messaging.

4. **التحسين المستقبلي**  
   - ربط بوابات دفع محلية (زين كاش، آسيا حوالة، كي كارد...).  
   - إضافة إمكانية التراسل الصوتي أو الفيديو.  
   - نظام محافظ (Wallet) فعلي وسحب آلي.

---

## 8. نقاط تفادي الأخطاء والثغرات

1. **مراقبة النزاعات بدقة**  
   - حفظ جميع المحادثات والملفات داخل التطبيق للرجوع إليها.

2. **صلاحيات المشرفين**  
   - توزيع الصلاحيات بوضوح لتفادي أي استغلال.

3. **التدقيق في هوية مقدمي الخدمات**  
   - عدم تفعيل حساب مقدم الخدمة إلا بعد التحقق من بياناته.

4. **توافقية التطبيق**  
   - اختبار على نسخ شائعة من أندرويد وiOS.

5. **النسخ الاحتياطي (Backup)**  
   - عمل نسخ احتياطي دوري للبيانات لتجنب أي فقدان مفاجئ.

---

## 9. خطة التطوير (Timeline) المقترحة

| المرحلة                | المدة     | المهام الرئيسية                                                |
|------------------------|-----------|----------------------------------------------------------------|
| **1. التحليل والتصميم**    | 2 أسبوع   | - تصميم الواجهة (UI/UX) بالتفصيل <br>- إعداد وثيقة المتطلبات النهائية |
| **2. التطوير الأساسي**   | 4 أسابيع  | - بناء الموديلات (Users, Requests, Offers...) <br>- واجهات التسجيل والطلبات والعروض <br>- نظام Escrow وهمي <br>- لوحة تحكم مبسطة |
| **3. الاختبارات الداخلية** | 2 أسبوع   | - اختبار وظيفي شامل <br>- إصلاح الأخطاء البرمجية <br>- تحسين تجربة المستخدم |
| **4. الإطلاق التجريبي**   | 1 أسبوع   | - فتح التطبيق لعدد محدود من المستخدمين <br>- جمع الملاحظات والتحسين النهائي |

> **إجمالي المدة المتوقعة:** ~9 أسابيع (شهران وأسبوع).

---

## 10. الميزانية التقديرية (عناوين عامة)

1. **تصميم (UI/UX)**  
2. **البرمجة (تطبيقات الموبايل + الخادم)**  
3. **خدمات الاستضافة وقاعدة البيانات**  
4. **الاختبارات والتسويق التجريبي**  
5. **عمولات بوابات الدفع** (عند تفعيلها مستقبلًا)

---

## 11. الخلاصة

تطبيق **وسّط | WASSIT** يهدف إلى سد فجوة حقيقية بين أصحاب المشاريع ومقدّمي الخدمات التسويقية والإعلامية في العراق، مع الحفاظ على خصوصية الأسعار والتواصل.  
باستخدام **نظام Escrow** (وهمي مبدئيًا) وضمان عدم كشف التفاصيل المالية بين الطرفين، يستطيع الوسيط (صاحب التطبيق) إضافة هامش ربح والاستفادة من كل عملية.  
التركيز في المرحلة الأولى (MVP) سيكون على **الوظائف الأساسية** (التسجيل، الطلب، العرض، الدفع الوهمي، التسليم، التقييم، لوحة تحكم مبسطة)، على أن يتم تطوير ودعم الميزات الإضافية في مراحل لاحقة.  

> **التوصية**: الالتزام بالخطة الزمنية وإبقاء الـMVP بسيطًا ومرنًا، ثم تطويره بناءً على التغذية الراجعة من المستخدمين. أي تغيير جوهري في المتطلبات يجب تحديثه في هذه الوثيقة قبل التنفيذ.

**أعدّه لكم:** فريق التطوير / الاسم المسؤول  
**تاريخ الإصدار:** 20/05/2025  

*ملاحظات أخيرة:*  
- يرجى التأكد من **توثيق كل واجهة** ووظيفة برمجية أثناء التطوير.  
- يُفضّل إجراء **اختبارات مرحلية** (Unit Testing + Integration Testing) لضمان جودة المخرجات.  
- عند أي تغيير جوهري في المتطلبات، **يُحدث هذا المستند** قبل التنفيذ.  
- يعتبر هذا الملف **المرجع النهائي** لأي استفسار أو مراجعة أثناء بناء النسخة الأولى من تطبيق "وسّط". 